# Wonderq

This API skeleton was generated by [generator-rest](https://github.com/diegohaz/generator-rest).

## Setting up

Make sure you have installed all these before starting:

- [Node](https://nodejs.org/en/download/)
- [Yarn](https://yarnpkg.com/en/docs/getting-started)

## Running the project

To run the project, just run these two commands:

```
$ yarn install
$ yarn dev
```

To run the project tests, run this command:

```
$ yarn test
```

## API docs

| Endpoint            | Description                        | Params                                    | Sample response                                                                                                                                                                                 |
| ------------------- | ---------------------------------- | ----------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `GET /messages`     | Pulls unconsumed messages          | None                                      | `[{"id":1,"body":{"mySampleMessageKey":"Sample value"},"consumedAt":1602532383892},{"id":2,"body":[{"myOtherSampleMessageKey":"Other sample value inside array"}],"consumedAt":1602532383892}]` |
| `POST /messages`    | Inserts a new message on the queue | Body must be a valid JSON object or array | `{"id":1,"body":{"mySampleMessageKey":"Sample value"}`                                                                                                                                          |
| `PUT /messages/:id` | Confirms message was consumed      | `:id` must be a valid message ID          | `{"id":1,"body":{"mySampleMessageKey":"Sample value"},"consumedAt":1602532544925}`                                                                                                              |
